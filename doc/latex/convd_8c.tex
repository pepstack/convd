\hypertarget{convd_8c}{}\doxysection{src/convd/convd.c File Reference}
\label{convd_8c}\index{src/convd/convd.c@{src/convd/convd.c}}
{\ttfamily \#include \char`\"{}convd\+\_\+i.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{convd_8c_a54b136bdc2728e5106d00c0ccff09461}\label{convd_8c_a54b136bdc2728e5106d00c0ccff09461}} 
static void {\bfseries convd\+\_\+cleanup\+\_\+cb} (\mbox{\hyperlink{struct__conv__descriptor__t}{conv\+\_\+descriptor\+\_\+t}} $\ast$cvd)
\item 
\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$ \mbox{\hyperlink{convd_8c_abfdcdac8f6f8eae1b8517eda377587eb}{convbuf\+\_\+mk}} (\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$cvbuf, char $\ast$arraybytes, size\+\_\+t numbytes)
\item 
\mbox{\Hypertarget{convd_8c_a88ecc4ce404a51e7f714d684386fef56}\label{convd_8c_a88ecc4ce404a51e7f714d684386fef56}} 
static int {\bfseries ucs\+\_\+file\+\_\+read\+\_\+open} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, const char $\ast$pathfile, ub4 linesizemax, \mbox{\hyperlink{struct__conv__position__t}{convpos\+\_\+t}} $\ast$\+\_\+cpos)
\item 
\mbox{\Hypertarget{convd_8c_a88f98a394fc6472ec23d3a09a5f87075}\label{convd_8c_a88f98a394fc6472ec23d3a09a5f87075}} 
static int {\bfseries ucs\+\_\+file\+\_\+read\+\_\+next} (\mbox{\hyperlink{struct__conv__position__t}{convpos\+\_\+t}} cpos)
\item 
\mbox{\Hypertarget{convd_8c_a19334cb53e0bd3f5ad49f85254b22e8f}\label{convd_8c_a19334cb53e0bd3f5ad49f85254b22e8f}} 
static void {\bfseries ucs\+\_\+file\+\_\+read\+\_\+close} (\mbox{\hyperlink{struct__conv__position__t}{convpos\+\_\+t}} cpos)
\item 
int \mbox{\hyperlink{convd_8c_a9158a3673ac62a422647f650509a5467}{convd\+\_\+create}} (const char $\ast$fromcode, const char $\ast$tocode, \mbox{\hyperlink{convd__api_8h_ac49e30a1de789417659c24956265af67}{CONVD\+\_\+\+SUFFIX\+\_\+\+MODE}} suffix, \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$outcvd)
\item 
void \mbox{\hyperlink{convd_8c_a57a5f12188f497b190124a97fb2fbca3}{convd\+\_\+release}} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$pcvd)
\item 
\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} \mbox{\hyperlink{convd_8c_a33ad560ea15077a16bbc500115f514cb}{convd\+\_\+retain}} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$cvd)
\item 
const char $\ast$ \mbox{\hyperlink{convd_8c_a98eddd2c199fb5ce2f82b73b8c0c59d3}{convd\+\_\+fromcode}} (const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd)
\item 
const char $\ast$ \mbox{\hyperlink{convd_8c_af107d431fb789ac7f8d08941dbba9601}{convd\+\_\+tocode}} (const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd)
\item 
int \mbox{\hyperlink{convd_8c_abd94a0b702566fd5068112ec772e29c3}{convd\+\_\+config}} (const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, int request, void $\ast$argument)
\item 
size\+\_\+t \mbox{\hyperlink{convd_8c_a203ae9b8c302b51304cb178978a681f6}{convd\+\_\+conv\+\_\+text}} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$input, \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$output)
\item 
int \mbox{\hyperlink{convd_8c_a0ae1028954db28db90a11def6bd5d29a}{convd\+\_\+conv\+\_\+file}} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, const char $\ast$textfilein, size\+\_\+t inoffset, const char $\ast$textfileout, const char $\ast$outhead, size\+\_\+t outheadlen, ub4 linesizemax, ub8 $\ast$outfilesize)
\item 
size\+\_\+t \mbox{\hyperlink{convd_8c_ac0a15a64446cb2e3a0f55f3bdd35ccba}{convd\+\_\+conv\+\_\+xmltext}} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$input, \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$output)
\item 
int \mbox{\hyperlink{convd_8c_a7876b9cf9093fa069b6e7c9d09ec1d77}{convd\+\_\+conv\+\_\+xmlfile}} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, const char $\ast$xmlfilein, const char $\ast$xmlfileout, ub4 linesizemax, int addbom, ub8 $\ast$outfilesize)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
libconvd implementation.

\begin{DoxyAuthor}{Author}
\+: 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
\+: @create\+: \$create\$ @update\+: 
\end{DoxyVersion}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{convd_8c_abfdcdac8f6f8eae1b8517eda377587eb}\label{convd_8c_abfdcdac8f6f8eae1b8517eda377587eb}} 
\index{convd.c@{convd.c}!convbuf\_mk@{convbuf\_mk}}
\index{convbuf\_mk@{convbuf\_mk}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convbuf\_mk()}{convbuf\_mk()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}}$\ast$ convbuf\+\_\+mk (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{cvbuf,  }\item[{char $\ast$}]{arraybytes,  }\item[{size\+\_\+t}]{numbytes }\end{DoxyParamCaption})}

Populate a temporary conversion buffer with array of chars. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvbuf} & Pointer to a temporary conversion buffer. \\
\hline
\mbox{\texttt{ in}}  & {\em arraybytes} & Pointer to the actual chars array. \\
\hline
\mbox{\texttt{ in}}  & {\em numbytes} & Allowed size in bytes of arraybytes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The pointer to the input temporary conversion buffer. 
\end{DoxyReturn}
\mbox{\Hypertarget{convd_8c_abd94a0b702566fd5068112ec772e29c3}\label{convd_8c_abd94a0b702566fd5068112ec772e29c3}} 
\index{convd.c@{convd.c}!convd\_config@{convd\_config}}
\index{convd\_config@{convd\_config}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_config()}{convd\_config()}}
{\footnotesize\ttfamily int convd\+\_\+config (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd,  }\item[{int}]{request,  }\item[{void $\ast$}]{argument }\end{DoxyParamCaption})}

Control and query code conversion behavior. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvd} & A conversion descriptor created using the function convd\+\_\+create. \\
\hline
\mbox{\texttt{ in}}  & {\em request} & The following are the supported values for the request parameter\+:~\newline

\begin{DoxyItemize}
\item ICONV\+\_\+\+TRIVIALP~\newline
 argument should be an int $\ast$ which will receive 1 if the conversion is trivial, or 0 otherwise.~\newline

\item ICONV\+\_\+\+GET\+\_\+\+TRANSLITERATE~\newline
 argument should be an int $\ast$ which will receive 1 if transliteration is enabled in the conversion, or 0 otherwise.~\newline

\item ICONV\+\_\+\+SET\+\_\+\+TRANSLITERATE~\newline
 argument should be a const int $\ast$, pointing to an int value. A non-\/zero value is used to enable transliteration in the conversion. A zero value disables it.~\newline

\item ICONV\+\_\+\+GET\+\_\+\+DISCARD\+\_\+\+ILSEQ~\newline
 argument should be an int $\ast$ which will receive 1 if \char`\"{}illegal sequence discard and continue\char`\"{} is enabled in the conversion, or 0 otherwise.~\newline

\item ICONV\+\_\+\+SET\+\_\+\+DISCARD\+\_\+\+ILSEQ~\newline
 argument should be a const int $\ast$, pointing to an int value. A non-\/zero value is used to enable \char`\"{}illegal sequence discard and continue\char`\"{} in the conversion. A zero value disables it.~\newline
 
\end{DoxyItemize}\\
\hline
\mbox{\texttt{ out}}  & {\em argument} & see the above request parameter.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Upon successful completion, \mbox{\hyperlink{convd__api_8h_ac1f60cd5d2aeb3a48c3964ad485d8575}{convd\+\_\+config()}} returns 0 and, optionally, with a value pointed to by the argument.~\newline
 Otherwise, \mbox{\hyperlink{convd__api_8h_ac1f60cd5d2aeb3a48c3964ad485d8575}{convd\+\_\+config()}} returns -\/1 and sets errno to indicate the error. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The convd\+\_\+config function is a direct wrapper of iconvctl() (see\+: iconv.\+h)~\newline
 iconvctl() queries or adjusts the behavior of the iconv function, when invoked with the specified conversion descriptor, depending on the request value.~\newline
 This function is implemented only in GNU libiconv and not in other iconv implementations.~\newline
 It is not backed by a standard. You can test for its presence through (\+\_\+\+LIBICONV\+\_\+\+VERSION $>$= 0x0108).~\newline
 \mbox{\hyperlink{convd__api_8h_ac1f60cd5d2aeb3a48c3964ad485d8575}{convd\+\_\+config()}} is also MT-\/safe. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\href{https://www.gnu.org/savannah-checkouts/gnu/libiconv/documentation/libiconv-1.15/iconvctl.3.html}{\texttt{ https\+://www.\+gnu.\+org/savannah-\/checkouts/gnu/libiconv/documentation/libiconv-\/1.\+15/iconvctl.\+3.\+html}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{convd_8c_a0ae1028954db28db90a11def6bd5d29a}\label{convd_8c_a0ae1028954db28db90a11def6bd5d29a}} 
\index{convd.c@{convd.c}!convd\_conv\_file@{convd\_conv\_file}}
\index{convd\_conv\_file@{convd\_conv\_file}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_conv\_file()}{convd\_conv\_file()}}
{\footnotesize\ttfamily int convd\+\_\+conv\+\_\+file (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd,  }\item[{const char $\ast$}]{textfilein,  }\item[{size\+\_\+t}]{inoffset,  }\item[{const char $\ast$}]{textfileout,  }\item[{const char $\ast$}]{outhead,  }\item[{size\+\_\+t}]{outheadlen,  }\item[{ub4}]{linesizemax,  }\item[{ub8 $\ast$}]{outfilesize }\end{DoxyParamCaption})}

Convert characters from input file to output file. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvd} & The conversion descriptor. \\
\hline
\mbox{\texttt{ in}}  & {\em textfilein} & Full path to the input text file to be converted. \\
\hline
\mbox{\texttt{ in}}  & {\em inoffset} & The size in bytes should be ignord in textfilein.~\newline
 set it to 0 that asks to convert from the beginning of the input file. \\
\hline
\mbox{\texttt{ in}}  & {\em textfileout} & Full path to the output file as result of conversion.~\newline
 The textfileout must not exist before calling. \\
\hline
\mbox{\texttt{ in}}  & {\em outhead} & Optional content to be written into the head of output file. \\
\hline
\mbox{\texttt{ in}}  & {\em outheadlen} & Size in bytes of outhead. \\
\hline
\mbox{\texttt{ in}}  & {\em linesizemax} & Max line size in bytes for textfilein.~\newline
 This important argument must be big enough to read entire line of input text. \\
\hline
\mbox{\texttt{ out}}  & {\em outfilesize} & Optional parameter to save bytes size of textfileout.~\newline
 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Upon successful completion, it returns \mbox{\hyperlink{convd__api_8h_a46ee8e8fabb7320b3003ed8a73c510cd}{CONVD\+\_\+\+NOERROR(0)}}.~\newline
 Otherwise, returns error codes list in the following\+:~\newline

\begin{DoxyItemize}
\item CONVD\+\_\+\+ERR\+\_\+\+ENCODING~\newline
 Not a regular text file.
\item CONVD\+\_\+\+ERR\+\_\+\+INSUFF~\newline
 Insufficent line size for reading. You should increase linesizemax and try again.
\item CONVD\+\_\+\+ERR\+\_\+\+ICONV~\newline
 Error occurred while calling iconv().
\item CONVD\+\_\+\+ERR\+\_\+\+FILE~\newline
 Error occurred while reading or writing file. 
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The \mbox{\hyperlink{convd__api_8h_a18ef9c474ed2a4de65547cc4b446956f}{convd\+\_\+conv\+\_\+file()}} function converts characters file in one~\newline
 charset encoding to characters file in another charset encoding.~\newline
 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\href{https://man7.org/linux/man-pages/man3/iconv.3.html}{\texttt{ https\+://man7.\+org/linux/man-\/pages/man3/iconv.\+3.\+html}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{convd_8c_a203ae9b8c302b51304cb178978a681f6}\label{convd_8c_a203ae9b8c302b51304cb178978a681f6}} 
\index{convd.c@{convd.c}!convd\_conv\_text@{convd\_conv\_text}}
\index{convd\_conv\_text@{convd\_conv\_text}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_conv\_text()}{convd\_conv\_text()}}
{\footnotesize\ttfamily size\+\_\+t convd\+\_\+conv\+\_\+text (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd,  }\item[{\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{input,  }\item[{\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{output }\end{DoxyParamCaption})}

Convert characters from input to output. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvd} & The conversion descriptor. \\
\hline
\mbox{\texttt{ in}}  & {\em input} & The input argument points to the characters of the input sequence. \\
\hline
\mbox{\texttt{ out}}  & {\em output} & The output argument points to the characters of the output sequence. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Upon successful completion, it returns number of bytes saved in output buffer.~\newline
 Otherwise, returns CONVD\+\_\+\+ERR\+\_\+\+ICONV(-\/1) and might set errno to indicate the error. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The \mbox{\hyperlink{convd__api_8h_ae857bf28a846196c361204a28b51a6a1}{convd\+\_\+conv\+\_\+text()}} function converts a sequence of characters in one~\newline
 charset encoding to a sequence of characters in another charset encoding.~\newline
 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\href{https://man7.org/linux/man-pages/man3/iconv.3.html}{\texttt{ https\+://man7.\+org/linux/man-\/pages/man3/iconv.\+3.\+html}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{convd_8c_a7876b9cf9093fa069b6e7c9d09ec1d77}\label{convd_8c_a7876b9cf9093fa069b6e7c9d09ec1d77}} 
\index{convd.c@{convd.c}!convd\_conv\_xmlfile@{convd\_conv\_xmlfile}}
\index{convd\_conv\_xmlfile@{convd\_conv\_xmlfile}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_conv\_xmlfile()}{convd\_conv\_xmlfile()}}
{\footnotesize\ttfamily int convd\+\_\+conv\+\_\+xmlfile (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd,  }\item[{const char $\ast$}]{xmlfilein,  }\item[{const char $\ast$}]{xmlfileout,  }\item[{ub4}]{linesizemax,  }\item[{int}]{addbom,  }\item[{ub8 $\ast$}]{outfilesize }\end{DoxyParamCaption})}

Convert characters from input xml file to output xml file. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvd} & The conversion descriptor. \\
\hline
\mbox{\texttt{ in}}  & {\em xmlfilein} & Full path to the input xml file to be converted. \\
\hline
\mbox{\texttt{ in}}  & {\em xmlfileout} & Full path to the output xml file as result of conversion.~\newline
 The output file must not exist before calling. \\
\hline
\mbox{\texttt{ in}}  & {\em addbom} & Optional BOM to be written into the head of output file. \\
\hline
\mbox{\texttt{ in}}  & {\em linesizemax} & Max size in bytes of buffer for reading input file.~\newline
 This important argument must be big enough to read entire line of input file. \\
\hline
\mbox{\texttt{ out}}  & {\em outfilesize} & Optional parameter to save bytes size of output xml file.~\newline
 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Upon successful completion, it returns \mbox{\hyperlink{convd__api_8h_a46ee8e8fabb7320b3003ed8a73c510cd}{CONVD\+\_\+\+NOERROR(0)}}.~\newline
 Otherwise, returns error codes list in the following\+:~\newline

\begin{DoxyItemize}
\item CONVD\+\_\+\+ERR\+\_\+\+ENCODING~\newline
 Not a regular text file.
\item CONVD\+\_\+\+ERR\+\_\+\+INSUFF~\newline
 Insufficent line size for reading. You should increase linesizemax and try again.
\item CONVD\+\_\+\+ERR\+\_\+\+ICONV~\newline
 Error occurred while calling iconv().
\item CONVD\+\_\+\+ERR\+\_\+\+FILE~\newline
 Error occurred while reading or writing file. 
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The \mbox{\hyperlink{convd__api_8h_ad0db213243b1af40232cfdd56979c30e}{convd\+\_\+conv\+\_\+xmlfile()}} function converts xml characters file in one~\newline
 charset encoding to xml characters file in another charset encoding.~\newline
 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\href{https://man7.org/linux/man-pages/man3/iconv.3.html}{\texttt{ https\+://man7.\+org/linux/man-\/pages/man3/iconv.\+3.\+html}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{convd_8c_ac0a15a64446cb2e3a0f55f3bdd35ccba}\label{convd_8c_ac0a15a64446cb2e3a0f55f3bdd35ccba}} 
\index{convd.c@{convd.c}!convd\_conv\_xmltext@{convd\_conv\_xmltext}}
\index{convd\_conv\_xmltext@{convd\_conv\_xmltext}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_conv\_xmltext()}{convd\_conv\_xmltext()}}
{\footnotesize\ttfamily size\+\_\+t convd\+\_\+conv\+\_\+xmltext (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd,  }\item[{\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{input,  }\item[{\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{output }\end{DoxyParamCaption})}

Convert xml characters from input to output. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvd} & The conversion descriptor. \\
\hline
\mbox{\texttt{ in}}  & {\em input} & The input xml characters sequence to be converted from. \\
\hline
\mbox{\texttt{ out}}  & {\em output} & The output xml characters sequence to be converted to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Upon successful completion, it returns number of bytes converted to in output buffer.~\newline
 Otherwise, returns CONVD\+\_\+\+ERR\+\_\+\+ICONV(-\/1) and might set errno to indicate the error. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The \mbox{\hyperlink{convd__api_8h_ac05f00f761c61ba149bb73c1ab72b751}{convd\+\_\+conv\+\_\+xmltext()}} function converts a sequence of xml characters in one~\newline
 charset encoding to a sequence of xml characters in another charset encoding.~\newline
 The encoding attribute in the first line of output xml will be assigned with tocode.~\newline
 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{convd__api_8h_ae857bf28a846196c361204a28b51a6a1}{convd\+\_\+conv\+\_\+text()}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{convd_8c_a9158a3673ac62a422647f650509a5467}\label{convd_8c_a9158a3673ac62a422647f650509a5467}} 
\index{convd.c@{convd.c}!convd\_create@{convd\_create}}
\index{convd\_create@{convd\_create}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_create()}{convd\_create()}}
{\footnotesize\ttfamily int convd\+\_\+create (\begin{DoxyParamCaption}\item[{const char $\ast$}]{fromcode,  }\item[{const char $\ast$}]{tocode,  }\item[{\mbox{\hyperlink{convd__api_8h_ac49e30a1de789417659c24956265af67}{CONVD\+\_\+\+SUFFIX\+\_\+\+MODE}}}]{suffix,  }\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$}]{outcvd }\end{DoxyParamCaption})}

Create a new convd\+\_\+t object. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fromcode} & Convert characters from encoding. \\
\hline
\mbox{\texttt{ in}}  & {\em tocode} & Convert characters to encoding. \\
\hline
\mbox{\texttt{ in}}  & {\em suffix} & Options controlling conversion problems. ~\newline
 \\
\hline
\mbox{\texttt{ out}}  & {\em outcvd} & The conversion descriptor relates the two encoded character sets. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, it returns CONVD\+\_\+\+NOERROR(=0) and the out parameter of outcvd is set by a convd\+\_\+t object;~\newline
 On error, it returns an error code like CONVD\+\_\+\+ERR\+\_\+?, and out parameter of outcvd is undefined.~\newline
 The following errors can occur\+:~\newline

\begin{DoxyItemize}
\item CONVD\+\_\+\+ERR\+\_\+\+FROMCODE~\newline
 invalid value for fromcode
\item CONVD\+\_\+\+ERR\+\_\+\+TOCODE~\newline
 invalid value for tocode
\item CONVD\+\_\+\+ERR\+\_\+\+SUFFIX~\newline
 invalid value for suffix
\item CONVD\+\_\+\+ERR\+\_\+\+ICONV~\newline
 an error occurred while calling iconv\+\_\+open().
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The convd\+\_\+t object maintains a count of the number of references to itself.~\newline
 The initial reference count of a new reference-\/counted object is 1.~\newline
 convd\+\_\+t object can be safely accessed from multiple threads (MT-\/safe). 
\end{DoxyNote}
\mbox{\Hypertarget{convd_8c_a98eddd2c199fb5ce2f82b73b8c0c59d3}\label{convd_8c_a98eddd2c199fb5ce2f82b73b8c0c59d3}} 
\index{convd.c@{convd.c}!convd\_fromcode@{convd\_fromcode}}
\index{convd\_fromcode@{convd\_fromcode}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_fromcode()}{convd\_fromcode()}}
{\footnotesize\ttfamily const char$\ast$ convd\+\_\+fromcode (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd }\end{DoxyParamCaption})}

Get characters encoding from which convert. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvd} & A convd\+\_\+t object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The read only string of from code. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{convd__api_8h_a7245b938617fbc7514c526450df7bc93}{convd\+\_\+create}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{convd_8c_a57a5f12188f497b190124a97fb2fbca3}\label{convd_8c_a57a5f12188f497b190124a97fb2fbca3}} 
\index{convd.c@{convd.c}!convd\_release@{convd\_release}}
\index{convd\_release@{convd\_release}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_release()}{convd\_release()}}
{\footnotesize\ttfamily void convd\+\_\+release (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$}]{cvd }\end{DoxyParamCaption})}

Decrement the reference count of convd\+\_\+t object. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvd} & The pointer to a convd\+\_\+t object to be released. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None
\end{DoxyReturn}
\begin{DoxyNote}{Note}
When release the reference-\/counted object, its reference count is decreased by 1.~\newline
 If the reference count reaches at 0, the reference-\/counted object is deallocated. 
\end{DoxyNote}
\mbox{\Hypertarget{convd_8c_a33ad560ea15077a16bbc500115f514cb}\label{convd_8c_a33ad560ea15077a16bbc500115f514cb}} 
\index{convd.c@{convd.c}!convd\_retain@{convd\_retain}}
\index{convd\_retain@{convd\_retain}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_retain()}{convd\_retain()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} convd\+\_\+retain (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$}]{cvd }\end{DoxyParamCaption})}

Increment the reference count of convd\+\_\+t object. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvd} & The pointer to a convd\+\_\+t object to be increment. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The convd\+\_\+t object itself.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
When retain the reference-\/counted object, its reference count is increased by 1.~\newline
 You must release a reference-\/counted object once after it has been created or retained. 
\end{DoxyNote}
\mbox{\Hypertarget{convd_8c_af107d431fb789ac7f8d08941dbba9601}\label{convd_8c_af107d431fb789ac7f8d08941dbba9601}} 
\index{convd.c@{convd.c}!convd\_tocode@{convd\_tocode}}
\index{convd\_tocode@{convd\_tocode}!convd.c@{convd.c}}
\doxysubsubsection{\texorpdfstring{convd\_tocode()}{convd\_tocode()}}
{\footnotesize\ttfamily const char$\ast$ convd\+\_\+tocode (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd }\end{DoxyParamCaption})}

Get characters encoding to which convert. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cvd} & A convd\+\_\+t object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The read only string of to code. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{convd__api_8h_a7245b938617fbc7514c526450df7bc93}{convd\+\_\+create}} 
\end{DoxySeeAlso}
