\hypertarget{convd__api_8h}{}\doxysection{src/convd/convd\+\_\+api.h File Reference}
\label{convd__api_8h}\index{src/convd/convd\_api.h@{src/convd/convd\_api.h}}


libconvd public api.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}}
\item 
struct \mbox{\hyperlink{structconv__xmlhead__t}{conv\+\_\+xmlhead\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{convd__api_8h_af69c86c867634cd3069acc0a22ac0c72}\label{convd__api_8h_af69c86c867634cd3069acc0a22ac0c72}} 
\#define {\bfseries CONVDAPI}~extern
\item 
\#define \mbox{\hyperlink{convd__api_8h_a46ee8e8fabb7320b3003ed8a73c510cd}{CONVD\+\_\+\+NOERROR}}~0
\item 
\#define \mbox{\hyperlink{convd__api_8h_a1a5593aee1edb2e7afbaa85afbe249d1}{CONVD\+\_\+\+ERR\+\_\+\+FROMCODE}}~1
\item 
\mbox{\Hypertarget{convd__api_8h_ae19ed617bc6c3be411531349837166e8}\label{convd__api_8h_ae19ed617bc6c3be411531349837166e8}} 
\#define {\bfseries CONVD\+\_\+\+ERR\+\_\+\+TOCODE}~2
\item 
\mbox{\Hypertarget{convd__api_8h_af10da9f212f363f546138d380742c2d5}\label{convd__api_8h_af10da9f212f363f546138d380742c2d5}} 
\#define {\bfseries CONVD\+\_\+\+ERR\+\_\+\+SUFFIX}~3
\item 
\mbox{\Hypertarget{convd__api_8h_ab6c1f96d95706f9a76e621f05dd8a6ad}\label{convd__api_8h_ab6c1f96d95706f9a76e621f05dd8a6ad}} 
\#define {\bfseries CONVD\+\_\+\+ERR\+\_\+\+ICONV\+\_\+\+OPEN}~(-\/1)
\item 
\mbox{\Hypertarget{convd__api_8h_a36f6bb2147fae82b65e67332e800d6fd}\label{convd__api_8h_a36f6bb2147fae82b65e67332e800d6fd}} 
\#define {\bfseries CONVD\+\_\+\+RET\+\_\+\+NOERROR}~0
\item 
\mbox{\Hypertarget{convd__api_8h_af7e091ec6ae5a927f811f38f353f446f}\label{convd__api_8h_af7e091ec6ae5a927f811f38f353f446f}} 
\#define {\bfseries CONVD\+\_\+\+RET\+\_\+\+ERROR}~(-\/1)
\item 
\mbox{\Hypertarget{convd__api_8h_a9406385591d1c8ff435300d237ba0c7b}\label{convd__api_8h_a9406385591d1c8ff435300d237ba0c7b}} 
\#define {\bfseries CONVD\+\_\+\+RET\+\_\+\+EICONV}~(-\/1)
\item 
\mbox{\Hypertarget{convd__api_8h_ad7e0975a34ddfb2ed92e0f013699cc49}\label{convd__api_8h_ad7e0975a34ddfb2ed92e0f013699cc49}} 
\#define {\bfseries CONVD\+\_\+\+RET\+\_\+\+EOPEN}~(-\/1)
\item 
\mbox{\Hypertarget{convd__api_8h_abb063c1869e7008086648187c7cee1fa}\label{convd__api_8h_abb063c1869e7008086648187c7cee1fa}} 
\#define {\bfseries CONVD\+\_\+\+RET\+\_\+\+EENCODING}~1
\item 
\mbox{\Hypertarget{convd__api_8h_a6b7efbbb06adec05b9e510e0776b0c37}\label{convd__api_8h_a6b7efbbb06adec05b9e510e0776b0c37}} 
\#define {\bfseries CONVD\+\_\+\+RET\+\_\+\+ESUFFIX}~2
\item 
\mbox{\Hypertarget{convd__api_8h_afe6ac6925e497e698909759a3151d69e}\label{convd__api_8h_afe6ac6925e497e698909759a3151d69e}} 
\#define {\bfseries CONVD\+\_\+\+RET\+\_\+\+EOVERFLOW}~3
\item 
\#define \mbox{\hyperlink{convd__api_8h_a3f7c14e82bbddddf2b4c44d0e08a08f3}{CVD\+\_\+\+ENCODING\+\_\+\+LEN\+\_\+\+MAX}}~64
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{convd__api_8h_a1118fd1971068c040a9497f13d37ab95}\label{convd__api_8h_a1118fd1971068c040a9497f13d37ab95}} 
typedef struct \mbox{\hyperlink{struct__conv__descriptor__t}{\+\_\+conv\+\_\+descriptor\+\_\+t}} $\ast$ {\bfseries convd\+\_\+t}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{convd__api_8h_ac49e30a1de789417659c24956265af67}{CONVD\+\_\+\+SUFFIX\+\_\+\+MODE}} \{ \mbox{\hyperlink{convd__api_8h_ac49e30a1de789417659c24956265af67a225bffd6ac483e4081f8e0debdbfd07a}{CVD\+\_\+\+SUFFIX\+\_\+\+NONE}} = 0
, \mbox{\hyperlink{convd__api_8h_ac49e30a1de789417659c24956265af67ab980b369dd9b190ed78e3254a7f8413b}{CVD\+\_\+\+SUFFIX\+\_\+\+IGNORE}} = 1
, \mbox{\hyperlink{convd__api_8h_ac49e30a1de789417659c24956265af67acb6513294e93299cc71cfc61489c65de}{CVD\+\_\+\+SUFFIX\+\_\+\+TRANSLIT}} = 2
 \}
\item 
enum \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9}{CONVD\+\_\+\+UCS\+\_\+\+BOM}} \{ \newline
\mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9aff43660c636667af45a4a1f00a499c16}{UCS\+\_\+\+NONE\+\_\+\+BOM}} = 0
, \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9ae5e361994a36170431bc06c7c2963399}{UCS\+\_\+\+UTF8\+\_\+\+BOM}} = 1
, \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a5a1c7be02c479fa46d680d41ad7e5d5a}{UCS\+\_\+2\+BE\+\_\+\+BOM}} = 2
, \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a249a69e24d68b364dffce8f42f097c02}{UCS\+\_\+2\+LE\+\_\+\+BOM}} = 3
, \newline
\mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9abc06f14127985c09d22a885764115ad5}{UCS\+\_\+4\+BE\+\_\+\+BOM}} = 4
, \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a9923678129642788bc4c3979543b1eee}{UCS\+\_\+4\+LE\+\_\+\+BOM}} = 5
, \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a7f878ffa5082fd5a65c6dd19ed835ba0}{UCS\+\_\+\+UTF8\+\_\+\+BOM\+\_\+\+ASK}} = 6
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
CONVDAPI int \mbox{\hyperlink{convd__api_8h_ad4bb1355a3aba27eba92cffc06ba1b56}{conv\+\_\+xmlhead\+\_\+format}} (const \mbox{\hyperlink{structconv__xmlhead__t}{conv\+\_\+xmlhead\+\_\+t}} $\ast$xmlhead, \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$output)
\item 
CONVDAPI int \mbox{\hyperlink{convd__api_8h_a7245b938617fbc7514c526450df7bc93}{convd\+\_\+create}} (const char $\ast$fromcode, const char $\ast$tocode, \mbox{\hyperlink{convd__api_8h_ac49e30a1de789417659c24956265af67}{CONVD\+\_\+\+SUFFIX\+\_\+\+MODE}} suffix, \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$outcvd)
\item 
\mbox{\Hypertarget{convd__api_8h_a7d09d1fc296e143a96f6ef4fefdac498}\label{convd__api_8h_a7d09d1fc296e143a96f6ef4fefdac498}} 
CONVDAPI \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} {\bfseries convd\+\_\+retain} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$cvd)
\item 
\mbox{\Hypertarget{convd__api_8h_aba8221d5404f5b2a3a2db9d240d9e4c8}\label{convd__api_8h_aba8221d5404f5b2a3a2db9d240d9e4c8}} 
CONVDAPI void {\bfseries convd\+\_\+release} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$cvd)
\item 
\mbox{\Hypertarget{convd__api_8h_a35b495420689cc2c57887985cd204b61}\label{convd__api_8h_a35b495420689cc2c57887985cd204b61}} 
CONVDAPI const char $\ast$ {\bfseries convd\+\_\+fromcode} (const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd)
\item 
\mbox{\Hypertarget{convd__api_8h_a5dc903d357b62d6ac11b403b12712ea7}\label{convd__api_8h_a5dc903d357b62d6ac11b403b12712ea7}} 
CONVDAPI const char $\ast$ {\bfseries convd\+\_\+tocode} (const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd)
\item 
CONVDAPI int \mbox{\hyperlink{convd__api_8h_ac1f60cd5d2aeb3a48c3964ad485d8575}{convd\+\_\+config}} (const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, int request, void $\ast$argument)
\item 
\mbox{\Hypertarget{convd__api_8h_a69db20d03cbffdee1e7529c3dc3f02a8}\label{convd__api_8h_a69db20d03cbffdee1e7529c3dc3f02a8}} 
CONVDAPI \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$ {\bfseries convbuf\+Make} (\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$cvbuf, char $\ast$arraybytes, size\+\_\+t numbytes)
\item 
CONVDAPI \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9}{CONVD\+\_\+\+UCS\+\_\+\+BOM}} \mbox{\hyperlink{convd__api_8h_a5a5b36477fe3d42cafeb6910ca1edcc1}{UCS\+\_\+text\+\_\+detect\+\_\+bom}} (const \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$textbuf)
\item 
\mbox{\Hypertarget{convd__api_8h_a168361091648155469e2885fc0e44227}\label{convd__api_8h_a168361091648155469e2885fc0e44227}} 
CONVDAPI int {\bfseries UCS\+\_\+file\+\_\+detect\+\_\+bom} (const char $\ast$pathfile, \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9}{CONVD\+\_\+\+UCS\+\_\+\+BOM}} $\ast$outbom)
\item 
CONVDAPI int \mbox{\hyperlink{convd__api_8h_a84c52c1782932e9685113d0bb948574d}{XML\+\_\+text\+\_\+parse\+\_\+head}} (const \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$xmltext, \mbox{\hyperlink{structconv__xmlhead__t}{conv\+\_\+xmlhead\+\_\+t}} $\ast$xmlhead)
\item 
\mbox{\Hypertarget{convd__api_8h_a4598ef96d354e9687d5df47ac6f89f35}\label{convd__api_8h_a4598ef96d354e9687d5df47ac6f89f35}} 
CONVDAPI int {\bfseries XML\+\_\+file\+\_\+parse\+\_\+head} (const char $\ast$xmlfile, \mbox{\hyperlink{structconv__xmlhead__t}{conv\+\_\+xmlhead\+\_\+t}} $\ast$xmlhead)
\item 
CONVDAPI size\+\_\+t \mbox{\hyperlink{convd__api_8h_ae857bf28a846196c361204a28b51a6a1}{convd\+\_\+conv\+\_\+text}} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$input, \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$output)
\item 
CONVDAPI int \mbox{\hyperlink{convd__api_8h_a7067b69379c299478acebeb5e4db47be}{convd\+\_\+conv\+\_\+file}} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, const char $\ast$textfilein, size\+\_\+t inoffset, const char $\ast$textfileout, const char $\ast$outhead, size\+\_\+t outheadlen, ub4 linesizemax, ub8 $\ast$outfilesize, int addbom)
\item 
\mbox{\Hypertarget{convd__api_8h_ac05f00f761c61ba149bb73c1ab72b751}\label{convd__api_8h_ac05f00f761c61ba149bb73c1ab72b751}} 
CONVDAPI size\+\_\+t {\bfseries convd\+\_\+conv\+\_\+xmltext} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$input, \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$output)
\item 
\mbox{\Hypertarget{convd__api_8h_a08d0b69244f96b7c392dc7aeef1e48e6}\label{convd__api_8h_a08d0b69244f96b7c392dc7aeef1e48e6}} 
CONVDAPI int {\bfseries convd\+\_\+conv\+\_\+xmlfile} (\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} cvd, const char $\ast$xmlfilein, const char $\ast$xmlfileout, ub4 linesizemax, ub8 $\ast$outfilesize, int addbom)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
libconvd public api. 

\begin{DoxyAuthor}{Author}
\href{mailto:cheungmine@qq.com}{\texttt{ cheungmine@qq.\+com}} 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}

\end{DoxyVersion}
\begin{DoxyDate}{Date}

\end{DoxyDate}
\begin{DoxyNote}{Note}

\end{DoxyNote}
\begin{DoxySince}{Since}

\end{DoxySince}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{convd__api_8h_a1a5593aee1edb2e7afbaa85afbe249d1}\label{convd__api_8h_a1a5593aee1edb2e7afbaa85afbe249d1}} 
\index{convd\_api.h@{convd\_api.h}!CONVD\_ERR\_FROMCODE@{CONVD\_ERR\_FROMCODE}}
\index{CONVD\_ERR\_FROMCODE@{CONVD\_ERR\_FROMCODE}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{CONVD\_ERR\_FROMCODE}{CONVD\_ERR\_FROMCODE}}
{\footnotesize\ttfamily \#define CONVD\+\_\+\+ERR\+\_\+\+FROMCODE~1}

failure result codes \mbox{\Hypertarget{convd__api_8h_a46ee8e8fabb7320b3003ed8a73c510cd}\label{convd__api_8h_a46ee8e8fabb7320b3003ed8a73c510cd}} 
\index{convd\_api.h@{convd\_api.h}!CONVD\_NOERROR@{CONVD\_NOERROR}}
\index{CONVD\_NOERROR@{CONVD\_NOERROR}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{CONVD\_NOERROR}{CONVD\_NOERROR}}
{\footnotesize\ttfamily \#define CONVD\+\_\+\+NOERROR~0}

success result code \mbox{\Hypertarget{convd__api_8h_a3f7c14e82bbddddf2b4c44d0e08a08f3}\label{convd__api_8h_a3f7c14e82bbddddf2b4c44d0e08a08f3}} 
\index{convd\_api.h@{convd\_api.h}!CVD\_ENCODING\_LEN\_MAX@{CVD\_ENCODING\_LEN\_MAX}}
\index{CVD\_ENCODING\_LEN\_MAX@{CVD\_ENCODING\_LEN\_MAX}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{CVD\_ENCODING\_LEN\_MAX}{CVD\_ENCODING\_LEN\_MAX}}
{\footnotesize\ttfamily \#define CVD\+\_\+\+ENCODING\+\_\+\+LEN\+\_\+\+MAX~64}

max length for charset encoding including end null char. Lists the supported encodings\+: \$ iconv --list 

\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{convd__api_8h_ac49e30a1de789417659c24956265af67}\label{convd__api_8h_ac49e30a1de789417659c24956265af67}} 
\index{convd\_api.h@{convd\_api.h}!CONVD\_SUFFIX\_MODE@{CONVD\_SUFFIX\_MODE}}
\index{CONVD\_SUFFIX\_MODE@{CONVD\_SUFFIX\_MODE}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{CONVD\_SUFFIX\_MODE}{CONVD\_SUFFIX\_MODE}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{convd__api_8h_ac49e30a1de789417659c24956265af67}{CONVD\+\_\+\+SUFFIX\+\_\+\+MODE}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{CVD\_SUFFIX\_NONE@{CVD\_SUFFIX\_NONE}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!CVD\_SUFFIX\_NONE@{CVD\_SUFFIX\_NONE}}}\mbox{\Hypertarget{convd__api_8h_ac49e30a1de789417659c24956265af67a225bffd6ac483e4081f8e0debdbfd07a}\label{convd__api_8h_ac49e30a1de789417659c24956265af67a225bffd6ac483e4081f8e0debdbfd07a}} 
CVD\+\_\+\+SUFFIX\+\_\+\+NONE&No suffix string appended to tocode. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CVD\_SUFFIX\_IGNORE@{CVD\_SUFFIX\_IGNORE}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!CVD\_SUFFIX\_IGNORE@{CVD\_SUFFIX\_IGNORE}}}\mbox{\Hypertarget{convd__api_8h_ac49e30a1de789417659c24956265af67ab980b369dd9b190ed78e3254a7f8413b}\label{convd__api_8h_ac49e30a1de789417659c24956265af67ab980b369dd9b190ed78e3254a7f8413b}} 
CVD\+\_\+\+SUFFIX\+\_\+\+IGNORE&The string \char`\"{}//\+IGNORE\char`\"{} will be appended to tocode, This means that characters that cannot be represented in the target character set will be silently discarded. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CVD\_SUFFIX\_TRANSLIT@{CVD\_SUFFIX\_TRANSLIT}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!CVD\_SUFFIX\_TRANSLIT@{CVD\_SUFFIX\_TRANSLIT}}}\mbox{\Hypertarget{convd__api_8h_ac49e30a1de789417659c24956265af67acb6513294e93299cc71cfc61489c65de}\label{convd__api_8h_ac49e30a1de789417659c24956265af67acb6513294e93299cc71cfc61489c65de}} 
CVD\+\_\+\+SUFFIX\+\_\+\+TRANSLIT&The string \char`\"{}//\+TRANSLIT\char`\"{} will be appended to tocode\+: This means that when a character cannot be represented in the target character set, it can be approximated through one or several similarly looking characters. \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9}\label{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9}} 
\index{convd\_api.h@{convd\_api.h}!CONVD\_UCS\_BOM@{CONVD\_UCS\_BOM}}
\index{CONVD\_UCS\_BOM@{CONVD\_UCS\_BOM}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{CONVD\_UCS\_BOM}{CONVD\_UCS\_BOM}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9}{CONVD\+\_\+\+UCS\+\_\+\+BOM}}}

Unicode Character Set \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{UCS\_NONE\_BOM@{UCS\_NONE\_BOM}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!UCS\_NONE\_BOM@{UCS\_NONE\_BOM}}}\mbox{\Hypertarget{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9aff43660c636667af45a4a1f00a499c16}\label{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9aff43660c636667af45a4a1f00a499c16}} 
UCS\+\_\+\+NONE\+\_\+\+BOM&Byte Order Mark not found \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{UCS\_UTF8\_BOM@{UCS\_UTF8\_BOM}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!UCS\_UTF8\_BOM@{UCS\_UTF8\_BOM}}}\mbox{\Hypertarget{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9ae5e361994a36170431bc06c7c2963399}\label{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9ae5e361994a36170431bc06c7c2963399}} 
UCS\+\_\+\+UTF8\+\_\+\+BOM&UTF-\/8\+: \textquotesingle{}EF BB BF\textquotesingle{} 8-\/bit UCS Transformation Format with BOM header \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{UCS\_2BE\_BOM@{UCS\_2BE\_BOM}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!UCS\_2BE\_BOM@{UCS\_2BE\_BOM}}}\mbox{\Hypertarget{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a5a1c7be02c479fa46d680d41ad7e5d5a}\label{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a5a1c7be02c479fa46d680d41ad7e5d5a}} 
UCS\+\_\+2\+BE\+\_\+\+BOM&UTF-\/16\+BE\+: \textquotesingle{}FE FF\textquotesingle{} 16-\/bit UCS Transformation Format, big-\/endian byte order \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{UCS\_2LE\_BOM@{UCS\_2LE\_BOM}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!UCS\_2LE\_BOM@{UCS\_2LE\_BOM}}}\mbox{\Hypertarget{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a249a69e24d68b364dffce8f42f097c02}\label{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a249a69e24d68b364dffce8f42f097c02}} 
UCS\+\_\+2\+LE\+\_\+\+BOM&UTF-\/16\+LE\+: \textquotesingle{}FF FE\textquotesingle{} 16-\/bit UCS Transformation Format, little-\/endian byte order \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{UCS\_4BE\_BOM@{UCS\_4BE\_BOM}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!UCS\_4BE\_BOM@{UCS\_4BE\_BOM}}}\mbox{\Hypertarget{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9abc06f14127985c09d22a885764115ad5}\label{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9abc06f14127985c09d22a885764115ad5}} 
UCS\+\_\+4\+BE\+\_\+\+BOM&UTF-\/32\+BE\+: \textquotesingle{}00 00 FE FF\textquotesingle{} 32-\/bit UCS Transformation Format, big-\/endian byte order \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{UCS\_4LE\_BOM@{UCS\_4LE\_BOM}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!UCS\_4LE\_BOM@{UCS\_4LE\_BOM}}}\mbox{\Hypertarget{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a9923678129642788bc4c3979543b1eee}\label{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a9923678129642788bc4c3979543b1eee}} 
UCS\+\_\+4\+LE\+\_\+\+BOM&UTF-\/32\+LE\+: \textquotesingle{}FF FE 00 00\textquotesingle{} 32-\/bit UCS Transformation Format, little-\/endian byte order \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{UCS\_UTF8\_BOM\_ASK@{UCS\_UTF8\_BOM\_ASK}!convd\_api.h@{convd\_api.h}}\index{convd\_api.h@{convd\_api.h}!UCS\_UTF8\_BOM\_ASK@{UCS\_UTF8\_BOM\_ASK}}}\mbox{\Hypertarget{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a7f878ffa5082fd5a65c6dd19ed835ba0}\label{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9a7f878ffa5082fd5a65c6dd19ed835ba0}} 
UCS\+\_\+\+UTF8\+\_\+\+BOM\+\_\+\+ASK&UTF-\/8?\+: \textquotesingle{}EF BB ?\textquotesingle{} Ask next one byte to determine if it is UTF\+\_\+\+UTF\+\_\+8\+BOM \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{convd__api_8h_ad4bb1355a3aba27eba92cffc06ba1b56}\label{convd__api_8h_ad4bb1355a3aba27eba92cffc06ba1b56}} 
\index{convd\_api.h@{convd\_api.h}!conv\_xmlhead\_format@{conv\_xmlhead\_format}}
\index{conv\_xmlhead\_format@{conv\_xmlhead\_format}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{conv\_xmlhead\_format()}{conv\_xmlhead\_format()}}
{\footnotesize\ttfamily CONVDAPI int conv\+\_\+xmlhead\+\_\+format (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structconv__xmlhead__t}{conv\+\_\+xmlhead\+\_\+t}} $\ast$}]{xmlhead,  }\item[{\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{output }\end{DoxyParamCaption})}

format given xml head to output of ansi string. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em xmlhead} & \\
\hline
\mbox{\texttt{ in}}  & {\em output} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, it returns length of chars in output buf not including ending null char(\textquotesingle{}\textbackslash{}0\textquotesingle{}); On error, it returns\+: 0 -\/ insufficent output buf; -\/1 -\/ unknown bom. 
\end{DoxyReturn}
\mbox{\Hypertarget{convd__api_8h_ac1f60cd5d2aeb3a48c3964ad485d8575}\label{convd__api_8h_ac1f60cd5d2aeb3a48c3964ad485d8575}} 
\index{convd\_api.h@{convd\_api.h}!convd\_config@{convd\_config}}
\index{convd\_config@{convd\_config}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{convd\_config()}{convd\_config()}}
{\footnotesize\ttfamily CONVDAPI int convd\+\_\+config (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd,  }\item[{int}]{request,  }\item[{void $\ast$}]{argument }\end{DoxyParamCaption})}

Name convd\+\_\+config -\/ control and query code conversion behavior.

Synopsis \#include $<$iconv.\+h$>$ \#include $<$\mbox{\hyperlink{convd__api_8h}{convd\+\_\+api.\+h}}$>$

int \mbox{\hyperlink{convd__api_8h_ac1f60cd5d2aeb3a48c3964ad485d8575}{convd\+\_\+config(const convd\+\_\+t cvd, int request, void $\ast$arg)}};

Description The convd\+\_\+config function is a direct wrapper of iconvctl() (see\+: iconv.\+h) and can be used to control code conversion behavior by setting or getting the current code conversion behavior settings from the current code conversion pointed to by the conversion descriptor that was returned from a successful convd\+\_\+create call.

The following are the supported values for the request argument\+: (See also\+: \href{https://docs.oracle.com/cd/E36784_01/html/E36874/iconvctl-3c.html}{\texttt{ https\+://docs.\+oracle.\+com/cd/\+E36784\+\_\+01/html/\+E36874/iconvctl-\/3c.\+html}})

ICONV\+\_\+\+GET\+\_\+\+CONVERSION\+\_\+\+BEHAVIOR ICONV\+\_\+\+SET\+\_\+\+CONVERSION\+\_\+\+BEHAVIOR ICONV\+\_\+\+GET\+\_\+\+DISCARD\+\_\+\+ILSEQ ICONV\+\_\+\+SET\+\_\+\+DISCARD\+\_\+\+ILSEQ ICONV\+\_\+\+GET\+\_\+\+TRANSLITERATE ICONV\+\_\+\+SET\+\_\+\+TRANSLITERATE ICONV\+\_\+\+TRIVIALP

Return Value Upon successful completion, \mbox{\hyperlink{convd__api_8h_ac1f60cd5d2aeb3a48c3964ad485d8575}{convd\+\_\+config()}} returns 0 and, optionally, with a value pointed to by the arg argument. Otherwise, \mbox{\hyperlink{convd__api_8h_ac1f60cd5d2aeb3a48c3964ad485d8575}{convd\+\_\+config()}} returns -\/1 and sets errno to indicate the error.

Notes convd\+\_\+config is MT-\/safety. \mbox{\Hypertarget{convd__api_8h_a7067b69379c299478acebeb5e4db47be}\label{convd__api_8h_a7067b69379c299478acebeb5e4db47be}} 
\index{convd\_api.h@{convd\_api.h}!convd\_conv\_file@{convd\_conv\_file}}
\index{convd\_conv\_file@{convd\_conv\_file}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{convd\_conv\_file()}{convd\_conv\_file()}}
{\footnotesize\ttfamily CONVDAPI int convd\+\_\+conv\+\_\+file (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd,  }\item[{const char $\ast$}]{textfilein,  }\item[{size\+\_\+t}]{inoffset,  }\item[{const char $\ast$}]{textfileout,  }\item[{const char $\ast$}]{outhead,  }\item[{size\+\_\+t}]{outheadlen,  }\item[{ub4}]{linesizemax,  }\item[{ub8 $\ast$}]{outfilesize,  }\item[{int}]{addbom }\end{DoxyParamCaption})}

\href{https://worthsen.blog.csdn.net/article/details/86585271}{\texttt{ https\+://worthsen.\+blog.\+csdn.\+net/article/details/86585271}} \mbox{\Hypertarget{convd__api_8h_ae857bf28a846196c361204a28b51a6a1}\label{convd__api_8h_ae857bf28a846196c361204a28b51a6a1}} 
\index{convd\_api.h@{convd\_api.h}!convd\_conv\_text@{convd\_conv\_text}}
\index{convd\_conv\_text@{convd\_conv\_text}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{convd\_conv\_text()}{convd\_conv\_text()}}
{\footnotesize\ttfamily CONVDAPI size\+\_\+t convd\+\_\+conv\+\_\+text (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}}}]{cvd,  }\item[{\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{input,  }\item[{\mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{output }\end{DoxyParamCaption})}

Name convd\+\_\+conv\+\_\+text -\/ character set conversion.

Return Value On success, it returns length of bytes (not less than 0) successfully converted; On error, it returns CONVD\+\_\+\+RET\+\_\+\+ECONV(-\/1) and caller can use strerror(errno) to get more error details.

Errors

CONVD\+\_\+\+RET\+\_\+\+EICONV -\/ Faile to call iconv\+\_\+open. uses strerror(errno) to get more error details.

Notes input and output should be changed after calling. \mbox{\Hypertarget{convd__api_8h_a7245b938617fbc7514c526450df7bc93}\label{convd__api_8h_a7245b938617fbc7514c526450df7bc93}} 
\index{convd\_api.h@{convd\_api.h}!convd\_create@{convd\_create}}
\index{convd\_create@{convd\_create}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{convd\_create()}{convd\_create()}}
{\footnotesize\ttfamily CONVDAPI int convd\+\_\+create (\begin{DoxyParamCaption}\item[{const char $\ast$}]{fromcode,  }\item[{const char $\ast$}]{tocode,  }\item[{\mbox{\hyperlink{convd__api_8h_ac49e30a1de789417659c24956265af67}{CONVD\+\_\+\+SUFFIX\+\_\+\+MODE}}}]{suffix,  }\item[{\mbox{\hyperlink{struct__conv__descriptor__t}{convd\+\_\+t}} $\ast$}]{outcvd }\end{DoxyParamCaption})}

Create a new convd\+\_\+t object. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fromcode} & Convert characters from encoding \\
\hline
\mbox{\texttt{ in}}  & {\em tocode} & Convert characters to encoding \\
\hline
\mbox{\texttt{ in}}  & {\em suffix} & Options controlling conversion problems ~\newline
 \\
\hline
\mbox{\texttt{ out}}  & {\em outcvd} & The conversion descriptor relates the two encoded character sets. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, it returns CONVD\+\_\+\+NOERROR(=0) and the out parameter of outcvd is set by a convd\+\_\+t object; On error, it returns an error code like CONVD\+\_\+\+ERR\+\_\+?, and out parameter of outcvd is undefined.
\end{DoxyReturn}
@retal CONVD\+\_\+\+NOERROR success @retal CONVD\+\_\+\+ERR\+\_\+\+FROMCODE invalid value for fromcode @retal CONVD\+\_\+\+ERR\+\_\+\+TOCODE invalid value for tocode @retal CONVD\+\_\+\+ERR\+\_\+\+SUFFIX invalid value for suffix @retal CONVD\+\_\+\+ERR\+\_\+\+ICONV\+\_\+\+OPEN an error occurred while calling iconv\+\_\+open().

\begin{DoxyNote}{Note}
convd\+\_\+t object can be safely accessed from multiple threads (MT-\/safe). 
\end{DoxyNote}
\mbox{\Hypertarget{convd__api_8h_a5a5b36477fe3d42cafeb6910ca1edcc1}\label{convd__api_8h_a5a5b36477fe3d42cafeb6910ca1edcc1}} 
\index{convd\_api.h@{convd\_api.h}!UCS\_text\_detect\_bom@{UCS\_text\_detect\_bom}}
\index{UCS\_text\_detect\_bom@{UCS\_text\_detect\_bom}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{UCS\_text\_detect\_bom()}{UCS\_text\_detect\_bom()}}
{\footnotesize\ttfamily CONVDAPI \mbox{\hyperlink{convd__api_8h_a9724b6972728dc2760ee0e5a0e451ff9}{CONVD\+\_\+\+UCS\+\_\+\+BOM}} UCS\+\_\+text\+\_\+detect\+\_\+bom (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{textbuf }\end{DoxyParamCaption})}

Name UCS\+\_\+text\+\_\+detect\+\_\+bom -\/ detect text buffer for bom tag. UCS\+\_\+file\+\_\+detect\+\_\+bom -\/ detect file for bom tag.

Return Value Always returns one of CONVD\+\_\+\+UCS\+\_\+\+BOM.

Errors

UCS\+\_\+\+NONE\+\_\+\+BOM -\/ Faile to detect header. \mbox{\Hypertarget{convd__api_8h_a84c52c1782932e9685113d0bb948574d}\label{convd__api_8h_a84c52c1782932e9685113d0bb948574d}} 
\index{convd\_api.h@{convd\_api.h}!XML\_text\_parse\_head@{XML\_text\_parse\_head}}
\index{XML\_text\_parse\_head@{XML\_text\_parse\_head}!convd\_api.h@{convd\_api.h}}
\doxysubsubsection{\texorpdfstring{XML\_text\_parse\_head()}{XML\_text\_parse\_head()}}
{\footnotesize\ttfamily CONVDAPI int XML\+\_\+text\+\_\+parse\+\_\+head (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structconv__buf__t}{conv\+\_\+buf\+\_\+t}} $\ast$}]{xmltext,  }\item[{\mbox{\hyperlink{structconv__xmlhead__t}{conv\+\_\+xmlhead\+\_\+t}} $\ast$}]{xmlhead }\end{DoxyParamCaption})}

Name UCS\+\_\+text\+\_\+detect\+\_\+bom -\/ detect text buffer for bom tag. UCS\+\_\+file\+\_\+detect\+\_\+bom -\/ detect file for bom tag.

Return Value Always returns one of CONVD\+\_\+\+UCS\+\_\+\+BOM.

Errors

UCS\+\_\+\+NONE\+\_\+\+BOM -\/ Faile to detect header. 