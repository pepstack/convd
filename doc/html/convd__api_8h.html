<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libconvd: src/convd/convd_api.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libconvd
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('convd__api_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">convd_api.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>libconvd public api.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div>
<p><a href="convd__api_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconv__buf__t.html">conv_buf_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconv__xmlhead__t.html">conv_xmlhead_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af69c86c867634cd3069acc0a22ac0c72"><td class="memItemLeft" align="right" valign="top"><a id="af69c86c867634cd3069acc0a22ac0c72"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVDAPI</b>&#160;&#160;&#160;extern</td></tr>
<tr class="separator:af69c86c867634cd3069acc0a22ac0c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ee8e8fabb7320b3003ed8a73c510cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#a46ee8e8fabb7320b3003ed8a73c510cd">CONVD_NOERROR</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a46ee8e8fabb7320b3003ed8a73c510cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a5593aee1edb2e7afbaa85afbe249d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#a1a5593aee1edb2e7afbaa85afbe249d1">CONVD_ERR_FROMCODE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a1a5593aee1edb2e7afbaa85afbe249d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae19ed617bc6c3be411531349837166e8"><td class="memItemLeft" align="right" valign="top"><a id="ae19ed617bc6c3be411531349837166e8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_ERR_TOCODE</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ae19ed617bc6c3be411531349837166e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af10da9f212f363f546138d380742c2d5"><td class="memItemLeft" align="right" valign="top"><a id="af10da9f212f363f546138d380742c2d5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_ERR_SUFFIX</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:af10da9f212f363f546138d380742c2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c1f96d95706f9a76e621f05dd8a6ad"><td class="memItemLeft" align="right" valign="top"><a id="ab6c1f96d95706f9a76e621f05dd8a6ad"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_ERR_ICONV_OPEN</b>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:ab6c1f96d95706f9a76e621f05dd8a6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f6bb2147fae82b65e67332e800d6fd"><td class="memItemLeft" align="right" valign="top"><a id="a36f6bb2147fae82b65e67332e800d6fd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_RET_NOERROR</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a36f6bb2147fae82b65e67332e800d6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e091ec6ae5a927f811f38f353f446f"><td class="memItemLeft" align="right" valign="top"><a id="af7e091ec6ae5a927f811f38f353f446f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_RET_ERROR</b>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:af7e091ec6ae5a927f811f38f353f446f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9406385591d1c8ff435300d237ba0c7b"><td class="memItemLeft" align="right" valign="top"><a id="a9406385591d1c8ff435300d237ba0c7b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_RET_EICONV</b>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:a9406385591d1c8ff435300d237ba0c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e0975a34ddfb2ed92e0f013699cc49"><td class="memItemLeft" align="right" valign="top"><a id="ad7e0975a34ddfb2ed92e0f013699cc49"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_RET_EOPEN</b>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:ad7e0975a34ddfb2ed92e0f013699cc49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb063c1869e7008086648187c7cee1fa"><td class="memItemLeft" align="right" valign="top"><a id="abb063c1869e7008086648187c7cee1fa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_RET_EENCODING</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:abb063c1869e7008086648187c7cee1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7efbbb06adec05b9e510e0776b0c37"><td class="memItemLeft" align="right" valign="top"><a id="a6b7efbbb06adec05b9e510e0776b0c37"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_RET_ESUFFIX</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a6b7efbbb06adec05b9e510e0776b0c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe6ac6925e497e698909759a3151d69e"><td class="memItemLeft" align="right" valign="top"><a id="afe6ac6925e497e698909759a3151d69e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONVD_RET_EOVERFLOW</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:afe6ac6925e497e698909759a3151d69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f7c14e82bbddddf2b4c44d0e08a08f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#a3f7c14e82bbddddf2b4c44d0e08a08f3">CVD_ENCODING_LEN_MAX</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a3f7c14e82bbddddf2b4c44d0e08a08f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a1118fd1971068c040a9497f13d37ab95"><td class="memItemLeft" align="right" valign="top"><a id="a1118fd1971068c040a9497f13d37ab95"></a>
typedef struct <a class="el" href="struct__conv__descriptor__t.html">_conv_descriptor_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>convd_t</b></td></tr>
<tr class="separator:a1118fd1971068c040a9497f13d37ab95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac49e30a1de789417659c24956265af67"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#ac49e30a1de789417659c24956265af67">CONVD_SUFFIX_MODE</a> { <a class="el" href="convd__api_8h.html#ac49e30a1de789417659c24956265af67a225bffd6ac483e4081f8e0debdbfd07a">CVD_SUFFIX_NONE</a> = 0
, <a class="el" href="convd__api_8h.html#ac49e30a1de789417659c24956265af67ab980b369dd9b190ed78e3254a7f8413b">CVD_SUFFIX_IGNORE</a> = 1
, <a class="el" href="convd__api_8h.html#ac49e30a1de789417659c24956265af67acb6513294e93299cc71cfc61489c65de">CVD_SUFFIX_TRANSLIT</a> = 2
 }</td></tr>
<tr class="separator:ac49e30a1de789417659c24956265af67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9724b6972728dc2760ee0e5a0e451ff9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9">CONVD_UCS_BOM</a> { <br />
&#160;&#160;<a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9aff43660c636667af45a4a1f00a499c16">UCS_NONE_BOM</a> = 0
, <a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9ae5e361994a36170431bc06c7c2963399">UCS_UTF8_BOM</a> = 1
, <a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9a5a1c7be02c479fa46d680d41ad7e5d5a">UCS_2BE_BOM</a> = 2
, <a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9a249a69e24d68b364dffce8f42f097c02">UCS_2LE_BOM</a> = 3
, <br />
&#160;&#160;<a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9abc06f14127985c09d22a885764115ad5">UCS_4BE_BOM</a> = 4
, <a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9a9923678129642788bc4c3979543b1eee">UCS_4LE_BOM</a> = 5
, <a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9a7f878ffa5082fd5a65c6dd19ed835ba0">UCS_UTF8_BOM_ASK</a> = 6
<br />
 }</td></tr>
<tr class="separator:a9724b6972728dc2760ee0e5a0e451ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad4bb1355a3aba27eba92cffc06ba1b56"><td class="memItemLeft" align="right" valign="top">CONVDAPI int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#ad4bb1355a3aba27eba92cffc06ba1b56">conv_xmlhead_format</a> (const <a class="el" href="structconv__xmlhead__t.html">conv_xmlhead_t</a> *xmlhead, <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *output)</td></tr>
<tr class="separator:ad4bb1355a3aba27eba92cffc06ba1b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7245b938617fbc7514c526450df7bc93"><td class="memItemLeft" align="right" valign="top">CONVDAPI int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#a7245b938617fbc7514c526450df7bc93">convd_create</a> (const char *fromcode, const char *tocode, <a class="el" href="convd__api_8h.html#ac49e30a1de789417659c24956265af67">CONVD_SUFFIX_MODE</a> suffix, <a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *outcvd)</td></tr>
<tr class="separator:a7245b938617fbc7514c526450df7bc93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d09d1fc296e143a96f6ef4fefdac498"><td class="memItemLeft" align="right" valign="top"><a id="a7d09d1fc296e143a96f6ef4fefdac498"></a>
CONVDAPI <a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>convd_retain</b> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *cvd)</td></tr>
<tr class="separator:a7d09d1fc296e143a96f6ef4fefdac498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8221d5404f5b2a3a2db9d240d9e4c8"><td class="memItemLeft" align="right" valign="top"><a id="aba8221d5404f5b2a3a2db9d240d9e4c8"></a>
CONVDAPI void&#160;</td><td class="memItemRight" valign="bottom"><b>convd_release</b> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *cvd)</td></tr>
<tr class="separator:aba8221d5404f5b2a3a2db9d240d9e4c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b495420689cc2c57887985cd204b61"><td class="memItemLeft" align="right" valign="top"><a id="a35b495420689cc2c57887985cd204b61"></a>
CONVDAPI const char *&#160;</td><td class="memItemRight" valign="bottom"><b>convd_fromcode</b> (const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd)</td></tr>
<tr class="separator:a35b495420689cc2c57887985cd204b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc903d357b62d6ac11b403b12712ea7"><td class="memItemLeft" align="right" valign="top"><a id="a5dc903d357b62d6ac11b403b12712ea7"></a>
CONVDAPI const char *&#160;</td><td class="memItemRight" valign="bottom"><b>convd_tocode</b> (const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd)</td></tr>
<tr class="separator:a5dc903d357b62d6ac11b403b12712ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f60cd5d2aeb3a48c3964ad485d8575"><td class="memItemLeft" align="right" valign="top">CONVDAPI int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#ac1f60cd5d2aeb3a48c3964ad485d8575">convd_config</a> (const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, int request, void *argument)</td></tr>
<tr class="separator:ac1f60cd5d2aeb3a48c3964ad485d8575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69db20d03cbffdee1e7529c3dc3f02a8"><td class="memItemLeft" align="right" valign="top"><a id="a69db20d03cbffdee1e7529c3dc3f02a8"></a>
CONVDAPI <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>convbufMake</b> (<a class="el" href="structconv__buf__t.html">conv_buf_t</a> *cvbuf, char *arraybytes, size_t numbytes)</td></tr>
<tr class="separator:a69db20d03cbffdee1e7529c3dc3f02a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5b36477fe3d42cafeb6910ca1edcc1"><td class="memItemLeft" align="right" valign="top">CONVDAPI <a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9">CONVD_UCS_BOM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#a5a5b36477fe3d42cafeb6910ca1edcc1">UCS_text_detect_bom</a> (const <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *textbuf)</td></tr>
<tr class="separator:a5a5b36477fe3d42cafeb6910ca1edcc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a168361091648155469e2885fc0e44227"><td class="memItemLeft" align="right" valign="top"><a id="a168361091648155469e2885fc0e44227"></a>
CONVDAPI int&#160;</td><td class="memItemRight" valign="bottom"><b>UCS_file_detect_bom</b> (const char *pathfile, <a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9">CONVD_UCS_BOM</a> *outbom)</td></tr>
<tr class="separator:a168361091648155469e2885fc0e44227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c52c1782932e9685113d0bb948574d"><td class="memItemLeft" align="right" valign="top">CONVDAPI int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#a84c52c1782932e9685113d0bb948574d">XML_text_parse_head</a> (const <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *xmltext, <a class="el" href="structconv__xmlhead__t.html">conv_xmlhead_t</a> *xmlhead)</td></tr>
<tr class="separator:a84c52c1782932e9685113d0bb948574d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4598ef96d354e9687d5df47ac6f89f35"><td class="memItemLeft" align="right" valign="top"><a id="a4598ef96d354e9687d5df47ac6f89f35"></a>
CONVDAPI int&#160;</td><td class="memItemRight" valign="bottom"><b>XML_file_parse_head</b> (const char *xmlfile, <a class="el" href="structconv__xmlhead__t.html">conv_xmlhead_t</a> *xmlhead)</td></tr>
<tr class="separator:a4598ef96d354e9687d5df47ac6f89f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae857bf28a846196c361204a28b51a6a1"><td class="memItemLeft" align="right" valign="top">CONVDAPI size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#ae857bf28a846196c361204a28b51a6a1">convd_conv_text</a> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *input, <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *output)</td></tr>
<tr class="separator:ae857bf28a846196c361204a28b51a6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7067b69379c299478acebeb5e4db47be"><td class="memItemLeft" align="right" valign="top">CONVDAPI int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd__api_8h.html#a7067b69379c299478acebeb5e4db47be">convd_conv_file</a> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, const char *textfilein, size_t inoffset, const char *textfileout, const char *outhead, size_t outheadlen, ub4 linesizemax, ub8 *outfilesize, int addbom)</td></tr>
<tr class="separator:a7067b69379c299478acebeb5e4db47be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05f00f761c61ba149bb73c1ab72b751"><td class="memItemLeft" align="right" valign="top"><a id="ac05f00f761c61ba149bb73c1ab72b751"></a>
CONVDAPI size_t&#160;</td><td class="memItemRight" valign="bottom"><b>convd_conv_xmltext</b> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *input, <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *output)</td></tr>
<tr class="separator:ac05f00f761c61ba149bb73c1ab72b751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d0b69244f96b7c392dc7aeef1e48e6"><td class="memItemLeft" align="right" valign="top"><a id="a08d0b69244f96b7c392dc7aeef1e48e6"></a>
CONVDAPI int&#160;</td><td class="memItemRight" valign="bottom"><b>convd_conv_xmlfile</b> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, const char *xmlfilein, const char *xmlfileout, ub4 linesizemax, ub8 *outfilesize, int addbom)</td></tr>
<tr class="separator:a08d0b69244f96b7c392dc7aeef1e48e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>libconvd public api. </p>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'che'+'un'+'gmi'+'ne'+'@qq'+'.c'+'om'; return false;">cheun<span style="display: none;">.nosp@m.</span>gmin<span style="display: none;">.nosp@m.</span>e@qq.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd></dd></dl>
<dl class="section date"><dt>Date</dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
<dl class="section since"><dt>Since</dt><dd></dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1a5593aee1edb2e7afbaa85afbe249d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a5593aee1edb2e7afbaa85afbe249d1">&#9670;&nbsp;</a></span>CONVD_ERR_FROMCODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONVD_ERR_FROMCODE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>failure result codes </p>

</div>
</div>
<a id="a46ee8e8fabb7320b3003ed8a73c510cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46ee8e8fabb7320b3003ed8a73c510cd">&#9670;&nbsp;</a></span>CONVD_NOERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONVD_NOERROR&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>success result code </p>

</div>
</div>
<a id="a3f7c14e82bbddddf2b4c44d0e08a08f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f7c14e82bbddddf2b4c44d0e08a08f3">&#9670;&nbsp;</a></span>CVD_ENCODING_LEN_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CVD_ENCODING_LEN_MAX&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>max length for charset encoding including end null char. Lists the supported encodings: $ iconv &ndash;list </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ac49e30a1de789417659c24956265af67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac49e30a1de789417659c24956265af67">&#9670;&nbsp;</a></span>CONVD_SUFFIX_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="convd__api_8h.html#ac49e30a1de789417659c24956265af67">CONVD_SUFFIX_MODE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac49e30a1de789417659c24956265af67a225bffd6ac483e4081f8e0debdbfd07a"></a>CVD_SUFFIX_NONE&#160;</td><td class="fielddoc"><p>No suffix string appended to tocode. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac49e30a1de789417659c24956265af67ab980b369dd9b190ed78e3254a7f8413b"></a>CVD_SUFFIX_IGNORE&#160;</td><td class="fielddoc"><p>The string "//IGNORE" will be appended to tocode, This means that characters that cannot be represented in the target character set will be silently discarded. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac49e30a1de789417659c24956265af67acb6513294e93299cc71cfc61489c65de"></a>CVD_SUFFIX_TRANSLIT&#160;</td><td class="fielddoc"><p>The string "//TRANSLIT" will be appended to tocode: This means that when a character cannot be represented in the target character set, it can be approximated through one or several similarly looking characters. </p>
</td></tr>
</table>

</div>
</div>
<a id="a9724b6972728dc2760ee0e5a0e451ff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9724b6972728dc2760ee0e5a0e451ff9">&#9670;&nbsp;</a></span>CONVD_UCS_BOM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9">CONVD_UCS_BOM</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unicode Character Set </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9724b6972728dc2760ee0e5a0e451ff9aff43660c636667af45a4a1f00a499c16"></a>UCS_NONE_BOM&#160;</td><td class="fielddoc"><p>Byte Order Mark not found </p>
</td></tr>
<tr><td class="fieldname"><a id="a9724b6972728dc2760ee0e5a0e451ff9ae5e361994a36170431bc06c7c2963399"></a>UCS_UTF8_BOM&#160;</td><td class="fielddoc"><p>UTF-8: 'EF BB BF' 8-bit UCS Transformation Format with BOM header </p>
</td></tr>
<tr><td class="fieldname"><a id="a9724b6972728dc2760ee0e5a0e451ff9a5a1c7be02c479fa46d680d41ad7e5d5a"></a>UCS_2BE_BOM&#160;</td><td class="fielddoc"><p>UTF-16BE: 'FE FF' 16-bit UCS Transformation Format, big-endian byte order </p>
</td></tr>
<tr><td class="fieldname"><a id="a9724b6972728dc2760ee0e5a0e451ff9a249a69e24d68b364dffce8f42f097c02"></a>UCS_2LE_BOM&#160;</td><td class="fielddoc"><p>UTF-16LE: 'FF FE' 16-bit UCS Transformation Format, little-endian byte order </p>
</td></tr>
<tr><td class="fieldname"><a id="a9724b6972728dc2760ee0e5a0e451ff9abc06f14127985c09d22a885764115ad5"></a>UCS_4BE_BOM&#160;</td><td class="fielddoc"><p>UTF-32BE: '00 00 FE FF' 32-bit UCS Transformation Format, big-endian byte order </p>
</td></tr>
<tr><td class="fieldname"><a id="a9724b6972728dc2760ee0e5a0e451ff9a9923678129642788bc4c3979543b1eee"></a>UCS_4LE_BOM&#160;</td><td class="fielddoc"><p>UTF-32LE: 'FF FE 00 00' 32-bit UCS Transformation Format, little-endian byte order </p>
</td></tr>
<tr><td class="fieldname"><a id="a9724b6972728dc2760ee0e5a0e451ff9a7f878ffa5082fd5a65c6dd19ed835ba0"></a>UCS_UTF8_BOM_ASK&#160;</td><td class="fielddoc"><p>UTF-8?: 'EF BB ?' Ask next one byte to determine if it is UTF_UTF_8BOM </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad4bb1355a3aba27eba92cffc06ba1b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4bb1355a3aba27eba92cffc06ba1b56">&#9670;&nbsp;</a></span>conv_xmlhead_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CONVDAPI int conv_xmlhead_format </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structconv__xmlhead__t.html">conv_xmlhead_t</a> *&#160;</td>
          <td class="paramname"><em>xmlhead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>format given xml head to output of ansi string. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xmlhead</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, it returns length of chars in output buf not including ending null char('\0'); On error, it returns: 0 - insufficent output buf; -1 - unknown bom. </dd></dl>

</div>
</div>
<a id="ac1f60cd5d2aeb3a48c3964ad485d8575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f60cd5d2aeb3a48c3964ad485d8575">&#9670;&nbsp;</a></span>convd_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CONVDAPI int convd_config </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argument</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name convd_config - control and query code conversion behavior.</p>
<p>Synopsis #include &lt;iconv.h&gt; #include &lt;<a class="el" href="convd__api_8h.html" title="libconvd public api.">convd_api.h</a>&gt;</p>
<p>int <a class="el" href="convd__api_8h.html#ac1f60cd5d2aeb3a48c3964ad485d8575">convd_config(const convd_t cvd, int request, void *arg)</a>;</p>
<p>Description The convd_config function is a direct wrapper of iconvctl() (see: iconv.h) and can be used to control code conversion behavior by setting or getting the current code conversion behavior settings from the current code conversion pointed to by the conversion descriptor that was returned from a successful convd_create call.</p>
<p>The following are the supported values for the request argument: (See also: <a href="https://docs.oracle.com/cd/E36784_01/html/E36874/iconvctl-3c.html">https://docs.oracle.com/cd/E36784_01/html/E36874/iconvctl-3c.html</a>)</p>
<p>ICONV_GET_CONVERSION_BEHAVIOR ICONV_SET_CONVERSION_BEHAVIOR ICONV_GET_DISCARD_ILSEQ ICONV_SET_DISCARD_ILSEQ ICONV_GET_TRANSLITERATE ICONV_SET_TRANSLITERATE ICONV_TRIVIALP</p>
<p>Return Value Upon successful completion, <a class="el" href="convd__api_8h.html#ac1f60cd5d2aeb3a48c3964ad485d8575">convd_config()</a> returns 0 and, optionally, with a value pointed to by the arg argument. Otherwise, <a class="el" href="convd__api_8h.html#ac1f60cd5d2aeb3a48c3964ad485d8575">convd_config()</a> returns -1 and sets errno to indicate the error.</p>
<p>Notes convd_config is MT-safety. </p>

</div>
</div>
<a id="a7067b69379c299478acebeb5e4db47be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7067b69379c299478acebeb5e4db47be">&#9670;&nbsp;</a></span>convd_conv_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CONVDAPI int convd_conv_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>textfilein</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>textfileout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outhead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outheadlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ub4&#160;</td>
          <td class="paramname"><em>linesizemax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ub8 *&#160;</td>
          <td class="paramname"><em>outfilesize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addbom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a href="https://worthsen.blog.csdn.net/article/details/86585271">https://worthsen.blog.csdn.net/article/details/86585271</a> </p>

</div>
</div>
<a id="ae857bf28a846196c361204a28b51a6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae857bf28a846196c361204a28b51a6a1">&#9670;&nbsp;</a></span>convd_conv_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CONVDAPI size_t convd_conv_text </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name convd_conv_text - character set conversion.</p>
<p>Return Value On success, it returns length of bytes (not less than 0) successfully converted; On error, it returns CONVD_RET_ECONV(-1) and caller can use strerror(errno) to get more error details.</p>
<p>Errors</p>
<p>CONVD_RET_EICONV - Faile to call iconv_open. uses strerror(errno) to get more error details.</p>
<p>Notes input and output should be changed after calling. </p>

</div>
</div>
<a id="a7245b938617fbc7514c526450df7bc93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7245b938617fbc7514c526450df7bc93">&#9670;&nbsp;</a></span>convd_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CONVDAPI int convd_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fromcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tocode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="convd__api_8h.html#ac49e30a1de789417659c24956265af67">CONVD_SUFFIX_MODE</a>&#160;</td>
          <td class="paramname"><em>suffix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *&#160;</td>
          <td class="paramname"><em>outcvd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new convd_t object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fromcode</td><td>Convert characters from encoding </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tocode</td><td>Convert characters to encoding </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">suffix</td><td>Options controlling conversion problems <br  />
 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outcvd</td><td>The conversion descriptor relates the two encoded character sets. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, it returns CONVD_NOERROR(=0) and the out parameter of outcvd is set by a convd_t object; On error, it returns an error code like CONVD_ERR_?, and out parameter of outcvd is undefined.</dd></dl>
<p>@retal CONVD_NOERROR success @retal CONVD_ERR_FROMCODE invalid value for fromcode @retal CONVD_ERR_TOCODE invalid value for tocode @retal CONVD_ERR_SUFFIX invalid value for suffix @retal CONVD_ERR_ICONV_OPEN an error occurred while calling iconv_open().</p>
<dl class="section note"><dt>Note</dt><dd>convd_t object can be safely accessed from multiple threads (MT-safe). </dd></dl>

</div>
</div>
<a id="a5a5b36477fe3d42cafeb6910ca1edcc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a5b36477fe3d42cafeb6910ca1edcc1">&#9670;&nbsp;</a></span>UCS_text_detect_bom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CONVDAPI <a class="el" href="convd__api_8h.html#a9724b6972728dc2760ee0e5a0e451ff9">CONVD_UCS_BOM</a> UCS_text_detect_bom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>textbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name UCS_text_detect_bom - detect text buffer for bom tag. UCS_file_detect_bom - detect file for bom tag.</p>
<p>Return Value Always returns one of CONVD_UCS_BOM.</p>
<p>Errors</p>
<p>UCS_NONE_BOM - Faile to detect header. </p>

</div>
</div>
<a id="a84c52c1782932e9685113d0bb948574d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c52c1782932e9685113d0bb948574d">&#9670;&nbsp;</a></span>XML_text_parse_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CONVDAPI int XML_text_parse_head </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>xmltext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconv__xmlhead__t.html">conv_xmlhead_t</a> *&#160;</td>
          <td class="paramname"><em>xmlhead</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name UCS_text_detect_bom - detect text buffer for bom tag. UCS_file_detect_bom - detect file for bom tag.</p>
<p>Return Value Always returns one of CONVD_UCS_BOM.</p>
<p>Errors</p>
<p>UCS_NONE_BOM - Faile to detect header. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_83dee2e705ff9584bacdbc2b84d0f805.html">convd</a></li><li class="navelem"><a class="el" href="convd__api_8h.html">convd_api.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
