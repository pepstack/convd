<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libconvd: src/convd/convd.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libconvd
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('convd_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">convd.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="convd__i_8h_source.html">convd_i.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a54b136bdc2728e5106d00c0ccff09461"><td class="memItemLeft" align="right" valign="top"><a id="a54b136bdc2728e5106d00c0ccff09461"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>convd_cleanup_cb</b> (<a class="el" href="struct__conv__descriptor__t.html">conv_descriptor_t</a> *cvd)</td></tr>
<tr class="separator:a54b136bdc2728e5106d00c0ccff09461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfdcdac8f6f8eae1b8517eda377587eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#abfdcdac8f6f8eae1b8517eda377587eb">convbuf_mk</a> (<a class="el" href="structconv__buf__t.html">conv_buf_t</a> *cvbuf, char *arraybytes, size_t numbytes)</td></tr>
<tr class="separator:abfdcdac8f6f8eae1b8517eda377587eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88ecc4ce404a51e7f714d684386fef56"><td class="memItemLeft" align="right" valign="top"><a id="a88ecc4ce404a51e7f714d684386fef56"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>ucs_file_read_open</b> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, const char *pathfile, ub4 linesizemax, <a class="el" href="struct__conv__position__t.html">convpos_t</a> *_cpos)</td></tr>
<tr class="separator:a88ecc4ce404a51e7f714d684386fef56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f98a394fc6472ec23d3a09a5f87075"><td class="memItemLeft" align="right" valign="top"><a id="a88f98a394fc6472ec23d3a09a5f87075"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>ucs_file_read_next</b> (<a class="el" href="struct__conv__position__t.html">convpos_t</a> cpos)</td></tr>
<tr class="separator:a88f98a394fc6472ec23d3a09a5f87075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19334cb53e0bd3f5ad49f85254b22e8f"><td class="memItemLeft" align="right" valign="top"><a id="a19334cb53e0bd3f5ad49f85254b22e8f"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>ucs_file_read_close</b> (<a class="el" href="struct__conv__position__t.html">convpos_t</a> cpos)</td></tr>
<tr class="separator:a19334cb53e0bd3f5ad49f85254b22e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9158a3673ac62a422647f650509a5467"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#a9158a3673ac62a422647f650509a5467">convd_create</a> (const char *fromcode, const char *tocode, <a class="el" href="convd__api_8h.html#ac49e30a1de789417659c24956265af67">CONVD_SUFFIX_MODE</a> suffix, <a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *outcvd)</td></tr>
<tr class="separator:a9158a3673ac62a422647f650509a5467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a5f12188f497b190124a97fb2fbca3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#a57a5f12188f497b190124a97fb2fbca3">convd_release</a> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *pcvd)</td></tr>
<tr class="separator:a57a5f12188f497b190124a97fb2fbca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ad560ea15077a16bbc500115f514cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#a33ad560ea15077a16bbc500115f514cb">convd_retain</a> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *cvd)</td></tr>
<tr class="separator:a33ad560ea15077a16bbc500115f514cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98eddd2c199fb5ce2f82b73b8c0c59d3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#a98eddd2c199fb5ce2f82b73b8c0c59d3">convd_fromcode</a> (const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd)</td></tr>
<tr class="separator:a98eddd2c199fb5ce2f82b73b8c0c59d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af107d431fb789ac7f8d08941dbba9601"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#af107d431fb789ac7f8d08941dbba9601">convd_tocode</a> (const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd)</td></tr>
<tr class="separator:af107d431fb789ac7f8d08941dbba9601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd94a0b702566fd5068112ec772e29c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#abd94a0b702566fd5068112ec772e29c3">convd_config</a> (const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, int request, void *argument)</td></tr>
<tr class="separator:abd94a0b702566fd5068112ec772e29c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203ae9b8c302b51304cb178978a681f6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#a203ae9b8c302b51304cb178978a681f6">convd_conv_text</a> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *input, <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *output)</td></tr>
<tr class="separator:a203ae9b8c302b51304cb178978a681f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ae1028954db28db90a11def6bd5d29a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#a0ae1028954db28db90a11def6bd5d29a">convd_conv_file</a> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, const char *textfilein, size_t inoffset, const char *textfileout, const char *outhead, size_t outheadlen, ub4 linesizemax, ub8 *outfilesize)</td></tr>
<tr class="separator:a0ae1028954db28db90a11def6bd5d29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a15a64446cb2e3a0f55f3bdd35ccba"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#ac0a15a64446cb2e3a0f55f3bdd35ccba">convd_conv_xmltext</a> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *input, <a class="el" href="structconv__buf__t.html">conv_buf_t</a> *output)</td></tr>
<tr class="separator:ac0a15a64446cb2e3a0f55f3bdd35ccba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7876b9cf9093fa069b6e7c9d09ec1d77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convd_8c.html#a7876b9cf9093fa069b6e7c9d09ec1d77">convd_conv_xmlfile</a> (<a class="el" href="struct__conv__descriptor__t.html">convd_t</a> cvd, const char *xmlfilein, const char *xmlfileout, ub4 linesizemax, int addbom, ub8 *outfilesize)</td></tr>
<tr class="separator:a7876b9cf9093fa069b6e7c9d09ec1d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>libconvd implementation.</p>
<dl class="section author"><dt>Author</dt><dd>: </dd></dl>
<dl class="section version"><dt>Version</dt><dd>: @create: $create$ @update: </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="abfdcdac8f6f8eae1b8517eda377587eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfdcdac8f6f8eae1b8517eda377587eb">&#9670;&nbsp;</a></span>convbuf_mk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structconv__buf__t.html">conv_buf_t</a>* convbuf_mk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>cvbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>arraybytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Populate a temporary conversion buffer with array of chars. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvbuf</td><td>Pointer to a temporary conversion buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arraybytes</td><td>Pointer to the actual chars array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numbytes</td><td>Allowed size in bytes of arraybytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the input temporary conversion buffer. </dd></dl>

</div>
</div>
<a id="abd94a0b702566fd5068112ec772e29c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd94a0b702566fd5068112ec772e29c3">&#9670;&nbsp;</a></span>convd_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int convd_config </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argument</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Control and query code conversion behavior. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvd</td><td>A conversion descriptor created using the function convd_create. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The following are the supported values for the request parameter:<br  />
<ul>
<li>ICONV_TRIVIALP<br  />
 argument should be an int * which will receive 1 if the conversion is trivial, or 0 otherwise.<br  />
</li>
<li>ICONV_GET_TRANSLITERATE<br  />
 argument should be an int * which will receive 1 if transliteration is enabled in the conversion, or 0 otherwise.<br  />
</li>
<li>ICONV_SET_TRANSLITERATE<br  />
 argument should be a const int *, pointing to an int value. A non-zero value is used to enable transliteration in the conversion. A zero value disables it.<br  />
</li>
<li>ICONV_GET_DISCARD_ILSEQ<br  />
 argument should be an int * which will receive 1 if "illegal sequence discard and continue" is enabled in the conversion, or 0 otherwise.<br  />
</li>
<li>ICONV_SET_DISCARD_ILSEQ<br  />
 argument should be a const int *, pointing to an int value. A non-zero value is used to enable "illegal sequence discard and continue" in the conversion. A zero value disables it.<br  />
 </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">argument</td><td>see the above request parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful completion, <a class="el" href="convd__api_8h.html#ac1f60cd5d2aeb3a48c3964ad485d8575">convd_config()</a> returns 0 and, optionally, with a value pointed to by the argument.<br  />
 Otherwise, <a class="el" href="convd__api_8h.html#ac1f60cd5d2aeb3a48c3964ad485d8575">convd_config()</a> returns -1 and sets errno to indicate the error. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The convd_config function is a direct wrapper of iconvctl() (see: iconv.h)<br  />
 iconvctl() queries or adjusts the behavior of the iconv function, when invoked with the specified conversion descriptor, depending on the request value.<br  />
 This function is implemented only in GNU libiconv and not in other iconv implementations.<br  />
 It is not backed by a standard. You can test for its presence through (_LIBICONV_VERSION &gt;= 0x0108).<br  />
 <a class="el" href="convd__api_8h.html#ac1f60cd5d2aeb3a48c3964ad485d8575">convd_config()</a> is also MT-safe. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.gnu.org/savannah-checkouts/gnu/libiconv/documentation/libiconv-1.15/iconvctl.3.html">https://www.gnu.org/savannah-checkouts/gnu/libiconv/documentation/libiconv-1.15/iconvctl.3.html</a> </dd></dl>

</div>
</div>
<a id="a0ae1028954db28db90a11def6bd5d29a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ae1028954db28db90a11def6bd5d29a">&#9670;&nbsp;</a></span>convd_conv_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int convd_conv_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>textfilein</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>textfileout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outhead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outheadlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ub4&#160;</td>
          <td class="paramname"><em>linesizemax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ub8 *&#160;</td>
          <td class="paramname"><em>outfilesize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert characters from input file to output file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvd</td><td>The conversion descriptor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">textfilein</td><td>Full path to the input text file to be converted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inoffset</td><td>The size in bytes should be ignord in textfilein.<br  />
 set it to 0 that asks to convert from the beginning of the input file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">textfileout</td><td>Full path to the output file as result of conversion.<br  />
 The textfileout must not exist before calling. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outhead</td><td>Optional content to be written into the head of output file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outheadlen</td><td>Size in bytes of outhead. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">linesizemax</td><td>Max line size in bytes for textfilein.<br  />
 This important argument must be big enough to read entire line of input text. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outfilesize</td><td>Optional parameter to save bytes size of textfileout.<br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful completion, it returns <a class="el" href="convd__api_8h.html#a46ee8e8fabb7320b3003ed8a73c510cd">CONVD_NOERROR(0)</a>.<br  />
 Otherwise, returns error codes list in the following:<br  />
<ul>
<li>CONVD_ERR_ENCODING<br  />
 Not a regular text file.</li>
<li>CONVD_ERR_INSUFF<br  />
 Insufficent line size for reading. You should increase linesizemax and try again.</li>
<li>CONVD_ERR_ICONV<br  />
 Error occurred while calling iconv().</li>
<li>CONVD_ERR_FILE<br  />
 Error occurred while reading or writing file. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="convd__api_8h.html#a18ef9c474ed2a4de65547cc4b446956f">convd_conv_file()</a> function converts characters file in one<br  />
 charset encoding to characters file in another charset encoding.<br  />
 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://man7.org/linux/man-pages/man3/iconv.3.html">https://man7.org/linux/man-pages/man3/iconv.3.html</a> </dd></dl>

</div>
</div>
<a id="a203ae9b8c302b51304cb178978a681f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a203ae9b8c302b51304cb178978a681f6">&#9670;&nbsp;</a></span>convd_conv_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t convd_conv_text </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert characters from input to output. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvd</td><td>The conversion descriptor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input argument points to the characters of the input sequence. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>The output argument points to the characters of the output sequence. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful completion, it returns number of bytes saved in output buffer.<br  />
 Otherwise, returns CONVD_ERR_ICONV(-1) and might set errno to indicate the error. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="convd__api_8h.html#ae857bf28a846196c361204a28b51a6a1">convd_conv_text()</a> function converts a sequence of characters in one<br  />
 charset encoding to a sequence of characters in another charset encoding.<br  />
 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://man7.org/linux/man-pages/man3/iconv.3.html">https://man7.org/linux/man-pages/man3/iconv.3.html</a> </dd></dl>

</div>
</div>
<a id="a7876b9cf9093fa069b6e7c9d09ec1d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7876b9cf9093fa069b6e7c9d09ec1d77">&#9670;&nbsp;</a></span>convd_conv_xmlfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int convd_conv_xmlfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>xmlfilein</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>xmlfileout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ub4&#160;</td>
          <td class="paramname"><em>linesizemax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addbom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ub8 *&#160;</td>
          <td class="paramname"><em>outfilesize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert characters from input xml file to output xml file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvd</td><td>The conversion descriptor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmlfilein</td><td>Full path to the input xml file to be converted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmlfileout</td><td>Full path to the output xml file as result of conversion.<br  />
 The output file must not exist before calling. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addbom</td><td>Optional BOM to be written into the head of output file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">linesizemax</td><td>Max size in bytes of buffer for reading input file.<br  />
 This important argument must be big enough to read entire line of input file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outfilesize</td><td>Optional parameter to save bytes size of output xml file.<br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful completion, it returns <a class="el" href="convd__api_8h.html#a46ee8e8fabb7320b3003ed8a73c510cd">CONVD_NOERROR(0)</a>.<br  />
 Otherwise, returns error codes list in the following:<br  />
<ul>
<li>CONVD_ERR_ENCODING<br  />
 Not a regular text file.</li>
<li>CONVD_ERR_INSUFF<br  />
 Insufficent line size for reading. You should increase linesizemax and try again.</li>
<li>CONVD_ERR_ICONV<br  />
 Error occurred while calling iconv().</li>
<li>CONVD_ERR_FILE<br  />
 Error occurred while reading or writing file. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="convd__api_8h.html#ad0db213243b1af40232cfdd56979c30e">convd_conv_xmlfile()</a> function converts xml characters file in one<br  />
 charset encoding to xml characters file in another charset encoding.<br  />
 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://man7.org/linux/man-pages/man3/iconv.3.html">https://man7.org/linux/man-pages/man3/iconv.3.html</a> </dd></dl>

</div>
</div>
<a id="ac0a15a64446cb2e3a0f55f3bdd35ccba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0a15a64446cb2e3a0f55f3bdd35ccba">&#9670;&nbsp;</a></span>convd_conv_xmltext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t convd_conv_xmltext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconv__buf__t.html">conv_buf_t</a> *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert xml characters from input to output. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvd</td><td>The conversion descriptor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input xml characters sequence to be converted from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>The output xml characters sequence to be converted to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful completion, it returns number of bytes converted to in output buffer.<br  />
 Otherwise, returns CONVD_ERR_ICONV(-1) and might set errno to indicate the error. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="convd__api_8h.html#ac05f00f761c61ba149bb73c1ab72b751">convd_conv_xmltext()</a> function converts a sequence of xml characters in one<br  />
 charset encoding to a sequence of xml characters in another charset encoding.<br  />
 The encoding attribute in the first line of output xml will be assigned with tocode.<br  />
 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="convd__api_8h.html#ae857bf28a846196c361204a28b51a6a1">convd_conv_text()</a> </dd></dl>

</div>
</div>
<a id="a9158a3673ac62a422647f650509a5467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9158a3673ac62a422647f650509a5467">&#9670;&nbsp;</a></span>convd_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int convd_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fromcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tocode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="convd__api_8h.html#ac49e30a1de789417659c24956265af67">CONVD_SUFFIX_MODE</a>&#160;</td>
          <td class="paramname"><em>suffix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *&#160;</td>
          <td class="paramname"><em>outcvd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new convd_t object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fromcode</td><td>Convert characters from encoding. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tocode</td><td>Convert characters to encoding. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">suffix</td><td>Options controlling conversion problems. <br  />
 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outcvd</td><td>The conversion descriptor relates the two encoded character sets. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, it returns CONVD_NOERROR(=0) and the out parameter of outcvd is set by a convd_t object;<br  />
 On error, it returns an error code like CONVD_ERR_?, and out parameter of outcvd is undefined.<br  />
 The following errors can occur:<br  />
<ul>
<li>CONVD_ERR_FROMCODE<br  />
 invalid value for fromcode</li>
<li>CONVD_ERR_TOCODE<br  />
 invalid value for tocode</li>
<li>CONVD_ERR_SUFFIX<br  />
 invalid value for suffix</li>
<li>CONVD_ERR_ICONV<br  />
 an error occurred while calling iconv_open().</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The convd_t object maintains a count of the number of references to itself.<br  />
 The initial reference count of a new reference-counted object is 1.<br  />
 convd_t object can be safely accessed from multiple threads (MT-safe). </dd></dl>

</div>
</div>
<a id="a98eddd2c199fb5ce2f82b73b8c0c59d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98eddd2c199fb5ce2f82b73b8c0c59d3">&#9670;&nbsp;</a></span>convd_fromcode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* convd_fromcode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get characters encoding from which convert. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvd</td><td>A convd_t object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The read only string of from code. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="convd__api_8h.html#a7245b938617fbc7514c526450df7bc93">convd_create</a> </dd></dl>

</div>
</div>
<a id="a57a5f12188f497b190124a97fb2fbca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57a5f12188f497b190124a97fb2fbca3">&#9670;&nbsp;</a></span>convd_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void convd_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *&#160;</td>
          <td class="paramname"><em>cvd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decrement the reference count of convd_t object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvd</td><td>The pointer to a convd_t object to be released. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section note"><dt>Note</dt><dd>When release the reference-counted object, its reference count is decreased by 1.<br  />
 If the reference count reaches at 0, the reference-counted object is deallocated. </dd></dl>

</div>
</div>
<a id="a33ad560ea15077a16bbc500115f514cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33ad560ea15077a16bbc500115f514cb">&#9670;&nbsp;</a></span>convd_retain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a> convd_retain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__conv__descriptor__t.html">convd_t</a> *&#160;</td>
          <td class="paramname"><em>cvd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increment the reference count of convd_t object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvd</td><td>The pointer to a convd_t object to be increment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The convd_t object itself.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>When retain the reference-counted object, its reference count is increased by 1.<br  />
 You must release a reference-counted object once after it has been created or retained. </dd></dl>

</div>
</div>
<a id="af107d431fb789ac7f8d08941dbba9601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af107d431fb789ac7f8d08941dbba9601">&#9670;&nbsp;</a></span>convd_tocode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* convd_tocode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__conv__descriptor__t.html">convd_t</a>&#160;</td>
          <td class="paramname"><em>cvd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get characters encoding to which convert. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cvd</td><td>A convd_t object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The read only string of to code. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="convd__api_8h.html#a7245b938617fbc7514c526450df7bc93">convd_create</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_83dee2e705ff9584bacdbc2b84d0f805.html">convd</a></li><li class="navelem"><a class="el" href="convd_8c.html">convd.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
